<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>UK REF Impact Case Studies • rOpenSci: refimpact</title>
<!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
<link rel="apple-touch-icon" type="image/png" sizes="180x180" href="/apple-touch-icon.png">
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js" integrity="sha256-FgpCb/KJQlLNfOu91ta32o/NMZxltwRo8QtmkMRdAu8=" crossorigin="anonymous"></script><!-- docsearch --><script src="../docsearch.js"></script><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/docsearch.js/2.6.1/docsearch.min.css" integrity="sha256-QOSRU/ra9ActyXkIBbiIB144aDBdtvXBcNc3OTNuX/Q=" crossorigin="anonymous">
<link href="../docsearch.css" rel="stylesheet">
<script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/jquery.mark.min.js" integrity="sha256-4HLtjeVgH0eIB3aZ9mLYF6E8oU5chNdjU6p6rrXpl9U=" crossorigin="anonymous"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha256-916EbMg70RQy9LHiGkXzG8hSg9EdNy97GazNG/aiY1w=" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha256-U5ZEeKfGNOja007MMD3YBI0A3OSZOQbeG6z2f2Y0hu8=" crossorigin="anonymous"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.11.1/css/all.min.css" integrity="sha256-PbSmjxuVAzJ6FPvNYsrXygfGhNJYyZ2GktDbkMBqQZg=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.11.1/css/v4-shims.min.css" integrity="sha256-A6jcAdwFD48VMjlI3GDxUd+eCQa7/KWy6G9oe/ovaPA=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.4/clipboard.min.js" integrity="sha256-FiZwavyI2V6+EXO1U+xzLG3IKldpiTFf3153ea9zikQ=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.9.4/headroom.min.js" integrity="sha256-DJFC1kqIhelURkuza0AvYal5RxMtpzLjFhsnVIeuk+U=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.9.4/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script><!-- ropensci --><link href="../ropensci.css?nocache=123" rel="stylesheet">
<meta property="og:title" content="UK REF Impact Case Studies">
<meta property="og:description" content="">
<meta name="twitter:card" content="summary">
<!-- Global site tag (gtag.js) - Google Analytics --><script async src="https://www.googletagmanager.com/gtag/js?id=UA-462421-8"></script><script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-462421-8');
</script>
</head>
<body>
    <div class="container template-article">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>

      <div class="navbar-brand-container">
        <a href="https://ropensci.org"><img src="https://ropensci.org/img/icon_short_white.svg" id="hexlogo" alt="rOpenSci"></a>
        <a class="navbar-brand" href="../index.html"><i>refimpact <small>v1.0.0</small></i></a>
      </div>
    </div>
    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav navbar-right">
<li>
  <a href="../index.html">
    <span class="fas fa fas fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../articles/refimpact.html">Get started</a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
        <li>
  <a href="https://github.com/ropensci/refimpact">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
<form class="navbar-form navbar-right docsearch" role="search">
        <div class="form-group">
          <input type="search" class="form-control" name="search-input" id="search-input" placeholder="Search..." aria-label="Search for..." autocomplete="off">
</div>
      </form>
      
    </div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      

      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header toc-ignore">
      <h1>UK REF Impact Case Studies</h1>
                        <h4 class="author">Perry Stephenson</h4>
            
            <h4 class="date">2020-03-24</h4>
      
      <small class="dont-index">Source: <a href="https://github.com/ropensci/refimpact/blob/master/vignettes/refimpact.Rmd"><code>vignettes/refimpact.Rmd</code></a></small>
      <div class="hidden name"><code>refimpact.Rmd</code></div>

    </div>

    
    
<div class="sourceCode" id="cb1"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb1-1" title="1"><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span>(refimpact)</a></code></pre></div>
<div id="introduction" class="section level2">
<h2 class="hasAnchor">
<a href="#introduction" class="anchor"></a>Introduction</h2>
<p>This package is an API wrapper around the REF Impact Case Studies database API. Chances are that if you’re looking at this package, you already know what this dataset is, and you probably know roughly what you’re looking for.</p>
<p>If you have stumbled upon this package however, and you want to know more about the dataset, you can head <a href="http://impact.ref.ac.uk">here</a> to find out more. If you are thinking of using this dataset as a toy dataset for learning, then you might find this dataset useful for text mining, amongst other things.</p>
</div>
<div id="core-functions" class="section level2">
<h2 class="hasAnchor">
<a href="#core-functions" class="anchor"></a>Core functions</h2>
<p>The core function for this package is <code><a href="../reference/ref_get.html">ref_get()</a></code>, which takes an API method as the first argument, and some optional arguments depending on the method.</p>
<p>The API methods available are detailed below, but presented here for quick reference:</p>
<ul>
<li>SearchCaseStudies</li>
<li>ListUnitsOfAssessment</li>
<li>ListTagTypes</li>
<li>ListTagValues</li>
<li>ListInstitutions</li>
</ul>
</div>
<div id="searchcasestudies" class="section level2">
<h2 class="hasAnchor">
<a href="#searchcasestudies" class="anchor"></a>SearchCaseStudies</h2>
<p>This is the core method of the API, and the most important for users of this package. The search method requires a compulsory argument to the <code><a href="../reference/ref_get.html">ref_get()</a></code> function: <code>query</code>. This argument takes a list of query parameters, which can be as simple as a single Case Study ID, which returns a single record. A query returning a single record is shown below to demonstrate the syntax and the returned data structure; more complex queries will be shown later in the vignette.</p>
<div class="sourceCode" id="cb2"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb2-1" title="1">results &lt;-<span class="st"> </span><span class="kw"><a href="../reference/ref_get.html">ref_get</a></span>(<span class="st">"SearchCaseStudies"</span>, <span class="dt">query=</span><span class="kw"><a href="https://rdrr.io/r/base/list.html">list</a></span>(<span class="dt">ID=</span><span class="dv">941</span>))</a>
<a class="sourceLine" id="cb2-2" title="2"><span class="kw"><a href="https://rdrr.io/r/base/print.html">print</a></span>(results)</a></code></pre></div>
<pre><code>## # A tibble: 1 x 19
##   CaseStudyId Continent Country Funders ImpactDetails ImpactSummary ImpactType
##   &lt;chr&gt;       &lt;list&gt;    &lt;list&gt;  &lt;list&gt;  &lt;chr&gt;         &lt;chr&gt;         &lt;chr&gt;     
## 1 941         &lt;df[,2] … &lt;df[,2… &lt;chr [… "\r\nImpact … "\r\nDrs Pep… Technolog…
## # … with 12 more variables: Institution &lt;chr&gt;, Institutions &lt;list&gt;,
## #   Panel &lt;chr&gt;, PlaceName &lt;list&gt;, References &lt;chr&gt;,
## #   ResearchSubjectAreas &lt;list&gt;, Sources &lt;chr&gt;, Title &lt;chr&gt;, UKLocation &lt;list&gt;,
## #   UKRegion &lt;list&gt;, UOA &lt;chr&gt;, UnderpinningResearch &lt;chr&gt;</code></pre>
<p>You will note that the function returns a nested tibble - that is a tibble with other data frames inside it. This means that you can interrogate the tibble as per usual:</p>
<div class="sourceCode" id="cb4"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb4-1" title="1"><span class="kw"><a href="https://rdrr.io/r/base/cat.html">cat</a></span>(results[[<span class="dv">1</span>, <span class="st">"CaseStudyId"</span>]])</a></code></pre></div>
<pre><code>## 941</code></pre>
<div class="sourceCode" id="cb6"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb6-1" title="1"><span class="kw"><a href="https://rdrr.io/r/base/cat.html">cat</a></span>(results[[<span class="dv">1</span>, <span class="st">"Title"</span>]])</a></code></pre></div>
<pre><code>## 
## Novel models for advanced imaging of urinary system function in healthy and diseased tissue.</code></pre>
<div class="sourceCode" id="cb8"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb8-1" title="1"><span class="kw"><a href="https://rdrr.io/r/base/cat.html">cat</a></span>(<span class="kw"><a href="https://rdrr.io/r/base/strtrim.html">strtrim</a></span>(results[[<span class="dv">1</span>, <span class="st">"ImpactSummary"</span>]], <span class="dt">width =</span> <span class="dv">200</span>), <span class="st">"&lt;truncated&gt;"</span>)</a></code></pre></div>
<pre><code>## 
## Drs Peppiatt-Wildman &amp;amp; Wildman have developed novel models to investigate kidney and bladder
## function and drug action, through visualisation of cellular events in live tissue. This has had an
##  &lt;truncated&gt;</code></pre>
<div class="sourceCode" id="cb10"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb10-1" title="1"><span class="kw"><a href="https://rdrr.io/r/base/cat.html">cat</a></span>(<span class="kw"><a href="https://rdrr.io/r/base/strtrim.html">strtrim</a></span>(results[[<span class="dv">1</span>, <span class="st">"ImpactDetails"</span>]], <span class="dt">width =</span> <span class="dv">200</span>), <span class="st">"&lt;truncated&gt;"</span>)</a></code></pre></div>
<pre><code>## 
## Impact on Commerce
## Peppiatt-Wildman and Wildman's unique approaches to investigate kidney and bladder function in
## a range of experimental models, including tissue slices, isolated and perfused org &lt;truncated&gt;</code></pre>
<div class="sourceCode" id="cb12"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb12-1" title="1"><span class="kw"><a href="https://rdrr.io/r/base/cat.html">cat</a></span>(results[[<span class="dv">1</span>, <span class="st">"Institution"</span>]])</a></code></pre></div>
<pre><code>## 
## University of Kent and University of Greenwich</code></pre>
<p>You can also interrogate the nested fields the same way, and even subset them:</p>
<div class="sourceCode" id="cb14"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb14-1" title="1"><span class="kw"><a href="https://rdrr.io/r/base/print.html">print</a></span>(results[[<span class="dv">1</span>, <span class="st">"Country"</span>]])</a></code></pre></div>
<pre><code>##   GeoNamesId           Name
## 1    2635167 United Kingdom
## 2    6252001  United States</code></pre>
<div class="sourceCode" id="cb16"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb16-1" title="1"><span class="kw"><a href="https://rdrr.io/r/base/print.html">print</a></span>(results[[<span class="dv">1</span>, <span class="st">"Institutions"</span>]])</a></code></pre></div>
<pre><code>##             AlternativeName         InstitutionName PeerGroup     Region
## 1 Greenwich (University of) University of Greenwich         D     London
## 2      Kent (University of)      University of Kent         B South East
##      UKPRN
## 1 10007146
## 2 10007150</code></pre>
<div class="sourceCode" id="cb18"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb18-1" title="1"><span class="kw"><a href="https://rdrr.io/r/base/print.html">print</a></span>(results[[<span class="dv">1</span>, <span class="st">"Institutions"</span>]][,<span class="kw"><a href="https://rdrr.io/r/base/c.html">c</a></span>(<span class="st">"UKPRN"</span>, <span class="st">"InstitutionName"</span>)])</a></code></pre></div>
<pre><code>##      UKPRN         InstitutionName
## 1 10007146 University of Greenwich
## 2 10007150      University of Kent</code></pre>
<blockquote>
<p><em>In the opinion of the package author, the nested tibble offers many advantages over other data representations - it is a relatively straight-forward exercise to transform the data into a set of wide or narrow tables if required.</em></p>
</blockquote>
<p>Returning a single case study based on the ID is obviously a niche use-case, so there are some other ways to search the database. But before getting to those, it is worth pointing out that you can select multiple case studies in a single query:</p>
<div class="sourceCode" id="cb20"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb20-1" title="1">results &lt;-<span class="st"> </span><span class="kw"><a href="../reference/ref_get.html">ref_get</a></span>(<span class="st">"SearchCaseStudies"</span>, <span class="dt">query=</span><span class="kw"><a href="https://rdrr.io/r/base/list.html">list</a></span>(<span class="dt">ID=</span><span class="kw"><a href="https://rdrr.io/r/base/c.html">c</a></span>(<span class="dv">941</span>, <span class="dv">942</span>, <span class="dv">1014</span>)))</a>
<a class="sourceLine" id="cb20-2" title="2"><span class="kw"><a href="https://rdrr.io/r/base/print.html">print</a></span>(results)</a></code></pre></div>
<pre><code>## # A tibble: 3 x 19
##   CaseStudyId Continent Country Funders ImpactDetails ImpactSummary ImpactType
##   &lt;chr&gt;       &lt;list&gt;    &lt;list&gt;  &lt;list&gt;  &lt;chr&gt;         &lt;chr&gt;         &lt;chr&gt;     
## 1 941         &lt;df[,2] … &lt;df[,2… &lt;chr [… "\r\nImpact … "\r\nDrs Pep… Technolog…
## 2 942         &lt;df[,2] … &lt;df[,2… &lt;chr [… "\r\n    GRA… "\r\n    The… Societal  
## 3 1014        &lt;df[,0] … &lt;df[,0… &lt;chr [… "\r\n    The… "\r\n    Res… Health    
## # … with 12 more variables: Institution &lt;chr&gt;, Institutions &lt;list&gt;,
## #   Panel &lt;chr&gt;, PlaceName &lt;list&gt;, References &lt;chr&gt;,
## #   ResearchSubjectAreas &lt;list&gt;, Sources &lt;chr&gt;, Title &lt;chr&gt;, UKLocation &lt;list&gt;,
## #   UKRegion &lt;list&gt;, UOA &lt;chr&gt;, UnderpinningResearch &lt;chr&gt;</code></pre>
<p>The ID parameter above is an exclusive parameter - if you provide one or more IDs then the function will print a warning to the console, and remove all parameters except for the IDs. This is based on the API’s documented limitations.</p>
<p>The other parameters can all be combined for searching. Those parameters are:</p>
<ul>
<li>
<strong>UKPRN</strong> - This is a code referencing an institution, and comes from the ListInstitutions method below. Takes a single UKPRN.</li>
<li>
<strong>UoA</strong> - This is a code referencing a Unit of Assessment, and comes from the ListUnitsOfAssessment method below. Takes a single ID.</li>
<li>
<strong>tags</strong> - This is one or more codes referencing tags from the ListTagValues method. The tags are separated into 13 different TagTypes, which are detailed below. When multiple tags are provided to the search method, it will only return rows which contain both tags.</li>
<li>
<strong>phrase</strong> - You can search the database using a text query. The query must conform to Lucene search query syntax.</li>
</ul>
<p>Some examples are shown below.</p>
<div class="sourceCode" id="cb22"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb22-1" title="1">results &lt;-<span class="st"> </span><span class="kw"><a href="../reference/ref_get.html">ref_get</a></span>(<span class="st">"SearchCaseStudies"</span>, <span class="dt">query=</span><span class="kw"><a href="https://rdrr.io/r/base/list.html">list</a></span>(<span class="dt">UKPRN =</span> <span class="dv">10007777</span>))</a>
<a class="sourceLine" id="cb22-2" title="2"><span class="kw"><a href="https://rdrr.io/r/base/dim.html">dim</a></span>(results)</a></code></pre></div>
<pre><code>## [1]  7 19</code></pre>
<div class="sourceCode" id="cb24"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb24-1" title="1">results &lt;-<span class="st"> </span><span class="kw"><a href="../reference/ref_get.html">ref_get</a></span>(<span class="st">"SearchCaseStudies"</span>, <span class="dt">query=</span><span class="kw"><a href="https://rdrr.io/r/base/list.html">list</a></span>(<span class="dt">UoA =</span> <span class="dv">5</span>))</a>
<a class="sourceLine" id="cb24-2" title="2"><span class="kw"><a href="https://rdrr.io/r/base/dim.html">dim</a></span>(results)</a></code></pre></div>
<pre><code>## [1] 257  19</code></pre>
<div class="sourceCode" id="cb26"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb26-1" title="1">results &lt;-<span class="st"> </span><span class="kw"><a href="../reference/ref_get.html">ref_get</a></span>(<span class="st">"SearchCaseStudies"</span>, <span class="dt">query=</span><span class="kw"><a href="https://rdrr.io/r/base/list.html">list</a></span>(<span class="dt">tags =</span> <span class="kw"><a href="https://rdrr.io/r/base/c.html">c</a></span>(<span class="dv">11280</span>, <span class="dv">5085</span>)))</a>
<a class="sourceLine" id="cb26-2" title="2"><span class="kw"><a href="https://rdrr.io/r/base/dim.html">dim</a></span>(results)</a></code></pre></div>
<pre><code>## [1] 24 19</code></pre>
<div class="sourceCode" id="cb28"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb28-1" title="1">results &lt;-<span class="st"> </span><span class="kw"><a href="../reference/ref_get.html">ref_get</a></span>(<span class="st">"SearchCaseStudies"</span>, <span class="dt">query=</span><span class="kw"><a href="https://rdrr.io/r/base/list.html">list</a></span>(<span class="dt">phrase =</span> <span class="st">"hello"</span>))</a>
<a class="sourceLine" id="cb28-2" title="2"><span class="kw"><a href="https://rdrr.io/r/base/dim.html">dim</a></span>(results)</a></code></pre></div>
<pre><code>## [1]  7 19</code></pre>
<div class="sourceCode" id="cb30"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb30-1" title="1">results &lt;-<span class="st"> </span><span class="kw"><a href="../reference/ref_get.html">ref_get</a></span>(<span class="st">"SearchCaseStudies"</span>, <span class="dt">query=</span><span class="kw"><a href="https://rdrr.io/r/base/list.html">list</a></span>(<span class="dt">UKPRN =</span> <span class="dv">10007146</span>,</a>
<a class="sourceLine" id="cb30-2" title="2">                                                   <span class="dt">UoA   =</span> <span class="dv">3</span>))</a>
<a class="sourceLine" id="cb30-3" title="3"><span class="kw"><a href="https://rdrr.io/r/base/dim.html">dim</a></span>(results)</a></code></pre></div>
<pre><code>## [1]  2 19</code></pre>
<p>Unfortunately, the API method requires at least one search parameter, which makes it more difficult to download the entire dataset. A short script for this purpose is included at the end of this vignette.</p>
<p>Useful values for the UKPRN, UoA and tags parameters can be found by querying the other 4 API methods - the phrase parameter is the only parameter which can be used in isolation. Each of the 4 other API methods are outlined below.</p>
</div>
<div id="listinstitutions" class="section level2">
<h2 class="hasAnchor">
<a href="#listinstitutions" class="anchor"></a>ListInstitutions</h2>
<p>This method lists all of the institutions which are included in the REF Impact Case Studies database, and the UKPRN column in the resuling tibble can be used as a query parameter</p>
<div class="sourceCode" id="cb32"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb32-1" title="1">institutions &lt;-<span class="st"> </span><span class="kw"><a href="../reference/ref_get.html">ref_get</a></span>(<span class="st">"ListInstitutions"</span>)</a>
<a class="sourceLine" id="cb32-2" title="2"><span class="kw"><a href="https://rdrr.io/r/base/print.html">print</a></span>(institutions)</a></code></pre></div>
<pre><code>## # A tibble: 155 x 5
##    AlternativeName          InstitutionName         PeerGroup Region       UKPRN
##    &lt;chr&gt;                    &lt;chr&gt;                   &lt;chr&gt;     &lt;chr&gt;        &lt;int&gt;
##  1 Open University          Open University         D         South East  1.00e7
##  2 Cranfield University     Cranfield University    B         East        1.00e7
##  3 Royal College of Art     Royal College of Art    G         London      1.00e7
##  4 Bishop Grosseteste Univ… Bishop Grosseteste Uni… F         East Midla… 1.00e7
##  5 Buckinghamshire New Uni… Buckinghamshire New Un… E         South East  1.00e7
##  6 Royal Central School of… Royal Central School o… G         London      1.00e7
##  7 Chester (University of)  University of Chester   E         North West  1.00e7
##  8 Canterbury Christ Churc… Canterbury Christ Chur… E         South East  1.00e7
##  9 York St John University  York St John University F         Yorkshire … 1.00e7
## 10 Edge Hill University     Edge Hill University    E         North West  1.00e7
## # … with 145 more rows</code></pre>
</div>
<div id="listtagtypes-and-listtagvalues" class="section level2">
<h2 class="hasAnchor">
<a href="#listtagtypes-and-listtagvalues" class="anchor"></a>ListTagTypes and ListTagValues</h2>
<p>These methods provide tags which can be used as search parameters in the SearchCaseStudies method. The ListTagTypes method returns the types of tags available:</p>
<div class="sourceCode" id="cb34"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb34-1" title="1">tag_types &lt;-<span class="st"> </span><span class="kw"><a href="../reference/ref_get.html">ref_get</a></span>(<span class="st">"ListTagTypes"</span>)</a>
<a class="sourceLine" id="cb34-2" title="2"><span class="kw"><a href="https://rdrr.io/r/base/print.html">print</a></span>(tag_types)</a></code></pre></div>
<pre><code>## # A tibble: 13 x 2
##       ID TagType             
##    &lt;int&gt; &lt;chr&gt;               
##  1     1 ImpactType          
##  2     3 Subject             
##  3     4 PlaceName           
##  4     5 Country             
##  5     6 Continent           
##  6     7 Interdisciplinary   
##  7     8 Similar             
##  8     9 Funder              
##  9    10 Panel               
## 10    11 InstitutionRegion   
## 11    12 InstitutionPeerGroup
## 12    13 UK Region           
## 13    15 Joint Submission</code></pre>
<p>These tag types can then be used as an argument to the ListTagValues method, to get all tags for each type:</p>
<div class="sourceCode" id="cb36"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb36-1" title="1">tag_values_<span class="dv">5</span> &lt;-<span class="st"> </span><span class="kw"><a href="../reference/ref_get.html">ref_get</a></span>(<span class="st">"ListTagValues"</span>, <span class="dt">tag_type =</span> <span class="dv">5</span>)</a>
<a class="sourceLine" id="cb36-2" title="2"><span class="kw"><a href="https://rdrr.io/r/base/print.html">print</a></span>(tag_values_<span class="dv">5</span>)</a></code></pre></div>
<pre><code>## # A tibble: 252 x 2
##       ID Name                        
##    &lt;int&gt; &lt;chr&gt;                       
##  1 11280 Afghanistan                 
##  2 11310 Aland Islands               
##  3 11116 Albania                     
##  4 11106 Algeria                     
##  5 25129 American Samoa, Territory of
##  6 11221 Andorra                     
##  7 11185 Angola                      
##  8 11301 Anguilla                    
##  9 11187 Antigua and Barbuda         
## 10 11328 Argentina                   
## # … with 242 more rows</code></pre>
<p>This can take some time to iterate through, so the full table is bundled with this package. You can access it via <code>ref_tags</code>:</p>
<div class="sourceCode" id="cb38"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb38-1" title="1"><span class="kw"><a href="https://rdrr.io/r/base/print.html">print</a></span>(ref_tags)</a></code></pre></div>
<pre><code>## # A tibble: 9,400 x 4
##       ID Name                                    TypeID TagType   
##  * &lt;int&gt; &lt;chr&gt;                                    &lt;int&gt; &lt;chr&gt;     
##  1  5083 Cultural                                     1 ImpactType
##  2  5086 Economic                                     1 ImpactType
##  3  5087 Environmental                                1 ImpactType
##  4  5082 Health                                       1 ImpactType
##  5  5081 Legal                                        1 ImpactType
##  6  5080 Political                                    1 ImpactType
##  7  5085 Societal                                     1 ImpactType
##  8  5084 Technological                                1 ImpactType
##  9   911 Accounting, Auditing and Accountability      3 Subject   
## 10  1022 Aerospace Engineering                        3 Subject   
## # … with 9,390 more rows</code></pre>
</div>
<div id="listunitsofassessment" class="section level2">
<h2 class="hasAnchor">
<a href="#listunitsofassessment" class="anchor"></a>ListUnitsOfAssessment</h2>
<p>This method lists all of the units of assessment which the Impact Case Studies can be assessed against. The tibble also includes an ID column which can be used when querying the SearchCaseStudies method.</p>
<div class="sourceCode" id="cb40"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb40-1" title="1">UoAs &lt;-<span class="st"> </span><span class="kw"><a href="../reference/ref_get.html">ref_get</a></span>(<span class="st">"ListUnitsOfAssessment"</span>)</a>
<a class="sourceLine" id="cb40-2" title="2"><span class="kw"><a href="https://rdrr.io/r/base/print.html">print</a></span>(UoAs)</a></code></pre></div>
<pre><code>## # A tibble: 36 x 3
##       ID Panel        Subject                                                   
##    &lt;int&gt; &lt;chr&gt;        &lt;chr&gt;                                                     
##  1     1 "A         " Clinical Medicine                                         
##  2     2 "A         " Public Health, Health Services and Primary Care           
##  3     3 "A         " Allied Health Professions, Dentistry, Nursing and Pharmacy
##  4     4 "A         " Psychology, Psychiatry and Neuroscience                   
##  5     5 "A         " Biological Sciences                                       
##  6     6 "A         " Agriculture, Veterinary and Food Science                  
##  7     7 "B         " Earth Systems and Environmental Sciences                  
##  8     8 "B         " Chemistry                                                 
##  9     9 "B         " Physics                                                   
## 10    10 "B         " Mathematical Sciences                                     
## # … with 26 more rows</code></pre>
</div>
<div id="extracting-the-entire-dataset" class="section level2">
<h2 class="hasAnchor">
<a href="#extracting-the-entire-dataset" class="anchor"></a>Extracting the entire dataset</h2>
<p>As alluded to above, the API cannot be searched without parameters, which means that downloading the entire dataset is not a simple task. The code below can be used to extract all records from the database.</p>
<div class="sourceCode" id="cb42"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb42-1" title="1">uoa_table &lt;-<span class="st"> </span><span class="kw"><a href="../reference/ref_get.html">ref_get</a></span>(<span class="st">"ListUnitsOfAssessment"</span>)</a>
<a class="sourceLine" id="cb42-2" title="2">uoa_list &lt;-<span class="st"> </span>uoa_table<span class="op">$</span>ID</a>
<a class="sourceLine" id="cb42-3" title="3"></a>
<a class="sourceLine" id="cb42-4" title="4">ref_corpus &lt;-<span class="st"> </span><span class="kw"><a href="https://rdrr.io/r/base/vector.html">vector</a></span>(<span class="dt">length =</span> <span class="kw"><a href="https://rdrr.io/r/base/length.html">length</a></span>(uoa_list), <span class="dt">mode =</span> <span class="st">"list"</span>)</a>
<a class="sourceLine" id="cb42-5" title="5"></a>
<a class="sourceLine" id="cb42-6" title="6"><span class="cf">for</span> (i <span class="cf">in</span> <span class="kw"><a href="https://rdrr.io/r/base/seq.html">seq_along</a></span>(uoa_list)) {</a>
<a class="sourceLine" id="cb42-7" title="7">  <span class="kw"><a href="https://rdrr.io/r/base/message.html">message</a></span>(<span class="st">"Retrieving data for UoA "</span>, uoa_list[i])</a>
<a class="sourceLine" id="cb42-8" title="8">  ref_corpus[[i]] &lt;-<span class="st"> </span><span class="kw"><a href="../reference/ref_get.html">ref_get</a></span>(<span class="st">"SearchCaseStudies"</span>, <span class="dt">query =</span> <span class="kw"><a href="https://rdrr.io/r/base/list.html">list</a></span>(<span class="dt">UoA =</span> uoa_list[i]))</a>
<a class="sourceLine" id="cb42-9" title="9">}</a>
<a class="sourceLine" id="cb42-10" title="10"></a>
<a class="sourceLine" id="cb42-11" title="11">output &lt;-<span class="st"> </span><span class="kw"><a href="https://rdrr.io/r/base/do.call.html">do.call</a></span>(rbind, ref_corpus)</a></code></pre></div>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="sidebar">

        <div id="tocnav">
      <h2 class="hasAnchor">
<a href="#tocnav" class="anchor"></a>Contents</h2>
      <ul class="nav nav-pills nav-stacked">
<li><a href="#introduction">Introduction</a></li>
      <li><a href="#core-functions">Core functions</a></li>
      <li><a href="#searchcasestudies">SearchCaseStudies</a></li>
      <li><a href="#listinstitutions">ListInstitutions</a></li>
      <li><a href="#listtagtypes-and-listtagvalues">ListTagTypes and ListTagValues</a></li>
      <li><a href="#listunitsofassessment">ListUnitsOfAssessment</a></li>
      <li><a href="#extracting-the-entire-dataset">Extracting the entire dataset</a></li>
      </ul>
</div>
      </div>

</div>



      <footer><!-- begin footer --><div class="footer">
    <div class="container">
        <div class="row start bottom-8">
            <div class="col-xs-2"> <img id="footerlogo" src="https://ropensci.org/img/icon_short_white.svg">
</div>
            <div class="col-xs-10">
                <div class="row">
                    <div class="col-md-4 col-xs-6">
                        <a href="http://github.com/ropensci" target="_blank"><div class="icon fab fa-github"></div></a>
                        <a href="http://github.com/ropenscilabs" target="_blank"><div class="icon fa fa-flask"></div></a>
                        <a href="http://twitter.com/ropensci" target="_blank"><div class="icon fab fa-twitter"></div></a>
                        <a href="http://vimeo.com/ropensci" target="_blank"><div class="icon fab fa-vimeo"></div></a>
                    </div>
                </div>
                <div class="row top-4">
                    <div class="col-md-2 col-sm-4">
                        <ul>
<h5 class="bottom-2">Info</h5>
                            <li><a href="https://ropensci.org/about">Mission</a></li>
                            <li><a href="https://ropensci.org/about#team">Team</a></li>
                            <li><a href="https://ropensci.org/about#collaborators">Collaborators</a></li>
                            <li><a href="https://ropensci.org/careers">Careers</a></li>
                        </ul>
</div>
                    <div class="col-md-2 col-sm-4">
                        <ul>
<h5 class="bottom-2">Work</h5>
                            <li><a href="https://ropensci.org/packages/">Packages</a></li>
                            <li><a href="https://ropensci.org/blog/">Blog</a></li>
                            <li><a href="https://ropensci.org/technotes/">Tech Notes</a></li>
                            <li><a href="https://ropensci.org/tutorials/">Tutorials</a></li>
                            <li><a href="https://ropensci.org/usecases/">Use Cases</a></li>
                            <li><a href="https://ropensci.org/resources/">More Resources</a></li>
                        </ul>
</div>
                    <div class="col-md-3 col-sm-4">
                        <ul>
<h5 class="bottom-2">Participate</h5>
                            <li><a href="https://ropensci.org/contact/">Contact us</a></li>
                            <li><a href="https://ropensci.org/community/">Community</a></li>
                            <li><a href="https://ropensci.org/software-review/">Contribute software</a></li>
                            <li><a href="https://ropensci.org/code-of-conduct">Code of conduct</a></li>
                            <li><a href="https://ropensci.org/events/">Events</a></li>
                            <li><a href="https://ropensci.org/commcalls/">Community calls</a></li>
                            <li><a href="https://ropensci.org/donate/">Donate</a></li>
                        </ul>
</div>
                    <div class="col-md-4 col-xs-12">
                        <h5 class="bottom-2"></h5>

                        <p>rOpenSci is a fiscally sponsored project of <a href="http://numfocus.org" target="_blank">NumFOCUS</a></p>
                        <a href="http://numfocus.org" target="_blank"></a>

                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
<!-- / end footer -->

      </footer>
</div>

  
<script src="https://cdnjs.cloudflare.com/ajax/libs/docsearch.js/2.6.1/docsearch.min.js" integrity="sha256-GKvGqXDznoRYHCwKXGnuchvKSwmx9SRMrZOTh2g4Sb0=" crossorigin="anonymous"></script><script>
  docsearch({
    
    
    apiKey: '799829e946e1f0f9cd5b5a782c6316b9',
    indexName: 'ropensci-refimpact',
    inputSelector: 'input#search-input.form-control',
    transformData: function(hits) {
      return hits.map(function (hit) {
        hit.url = updateHitURL(hit);
        return hit;
      });
    }
  });
</script>
</body>
</html>
